<div data-controller="modal" data-action="keyup@window->modal#closeWithKeyboard" class="hidden fixed inset-0 z-50 overflow-y-auto" data-modal-target="container" style="background-color: rgba(17, 24, 39, 0.75);">
  <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center">
    <!-- Modal content -->
    <div class="relative inline-block align-middle bg-gradient-to-br from-[#FFF8F0] to-[#FFE5D9] rounded-3xl text-left overflow-hidden shadow-2xl transform transition-all my-8 max-w-lg w-full border-2 border-[#FF6B35]/20">
      <div class="p-8 sm:p-10">
        <!-- Close button -->
        <div class="absolute top-4 right-4">
          <button type="button" data-action="click->modal#close" class="text-[#6B4226] hover:text-[#FF6B35] transition">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </button>
        </div>

        <!-- Logo -->
        <div class="flex justify-center mb-6">
          <div class="w-16 h-16 bg-[#FF6B35] rounded-2xl flex items-center justify-center shadow-lg shadow-[#FF6B35]/30">
            <svg class="w-9 h-9 text-[#FFF8F0]" fill="currentColor" viewBox="0 0 24 24">
              <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/>
            </svg>
          </div>
        </div>

        <h2 class="text-3xl font-bold text-center text-[#2C1810] mb-2 font-display">Вход в аккаунт</h2>
        <p class="text-center text-[#6B4226] mb-8">Войдите, чтобы начать звонить</p>

        <% if flash[:alert] %>
          <div class="mb-6 p-4 bg-red-100 border border-red-300 text-red-700 rounded-2xl">
            <%= flash[:alert] %>
          </div>
        <% end %>

        <%= form_with url: session_path, method: :post, class: "space-y-5" do |form| %>
          <div>
            <%= form.label :email_address, "Email", class: "block text-sm font-bold text-[#2C1810] mb-2" %>
            <%= form.email_field :email_address,
                required: true,
                autofocus: true,
                autocomplete: "username",
                placeholder: "your@email.com",
                class: "w-full px-4 py-3 rounded-xl border-2 border-[#FF6B35]/20 focus:border-[#FF6B35] focus:ring-2 focus:ring-[#FF6B35]/20 outline-none transition bg-white text-[#2C1810] placeholder-[#6B4226]/50" %>
          </div>

          <div>
            <%= form.label :password, "Пароль", class: "block text-sm font-bold text-[#2C1810] mb-2" %>
            <%= form.password_field :password,
                required: true,
                autocomplete: "current-password",
                placeholder: "Введите пароль",
                maxlength: 72,
                class: "w-full px-4 py-3 rounded-xl border-2 border-[#FF6B35]/20 focus:border-[#FF6B35] focus:ring-2 focus:ring-[#FF6B35]/20 outline-none transition bg-white text-[#2C1810] placeholder-[#6B4226]/50" %>
          </div>

          <div class="flex items-center justify-between">
            <label class="flex items-center">
              <input type="checkbox" class="w-4 h-4 rounded border-[#FF6B35]/30 text-[#FF6B35] focus:ring-[#FF6B35]">
              <span class="ml-2 text-sm text-[#6B4226]">Запомнить меня</span>
            </label>
            <%= link_to "Забыли пароль?", new_password_path, class: "text-sm text-[#FF6B35] hover:text-[#E63946] font-medium transition" %>
          </div>

          <%= form.submit "Войти", class: "w-full bg-gradient-to-r from-[#FF6B35] to-[#E63946] text-white font-bold py-4 rounded-xl hover:shadow-xl hover:shadow-[#FF6B35]/50 transition cursor-pointer" %>
        <% end %>

        <div class="mt-6 text-center">
          <p class="text-[#6B4226]">
            Нет аккаунта?
            <a href="#" onclick="closeAllModals(); openSignupModal(); return false;" class="text-[#FF6B35] hover:text-[#E63946] font-bold transition">
              Зарегистрироваться
            </a>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
